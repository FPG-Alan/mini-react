<svg id="kity_svg_6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3182" height="1690" style="background: rgb(251, 251, 251); visibility: visible;" viewBox="0 0 3182 1690"><defs id="kity_defs_7"><linearGradient id="kity_linearGradient_17" x1="0" y1="0" x2="0" y2="1"><stop id="kity_stop_18" offset="0" stop-color="rgb(255, 255, 255)"></stop><stop id="kity_stop_19" offset="1" stop-color="rgb(204, 204, 204)"></stop></linearGradient><marker id="kity_marker_2" orient="auto" refX="6" refY="0" viewBox="-7 -7 14 14" markerWidth="7" markerHeight="7" markerUnits="userSpaceOnUse"><path id="kity_path_3" fill="rgb(115, 161, 191)" stroke="none" d="M6,0A6,6,0,1,1,-6,0A6,6,0,1,1,6,0"></path></marker></defs><g id="kity_g_8"><g id="minder1" text-rendering="geometricPrecision"><g id="minder_connect_group1"><path id="kity_path_31" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1099,663.5A197.5,451.5,0,0,1,1296.5,212"></path><path id="kity_path_33" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1503.5,212C1518.5,212,1518.5,161.5,1533.5,161.5L1639.5,161.5"></path><path id="kity_path_35" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1639.5,161.5C1654.5,161.5,1654.5,161.5,1669.5,161.5L1986.5,161.5"></path><path id="kity_path_37" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1986.5,161.5C2001.5,161.5,2001.5,102.5,2016.5,102.5L2132.5,102.5"></path><path id="kity_path_39" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2132.5,102.5C2147.5,102.5,2147.5,63.5,2162.5,63.5L2284.5,63.5"></path><path id="kity_path_41" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2284.5,63.5C2299.5,63.5,2299.5,81.5,2314.5,81.5L2543.5,81.5"></path><path id="kity_path_43" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2132.5,102.5C2147.5,102.5,2147.5,142.5,2162.5,142.5L2284.5,142.5"></path><path id="kity_path_45" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2284.5,142.5C2299.5,142.5,2299.5,151.5,2314.5,151.5L2487.5,151.5"></path><path id="kity_path_47" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1986.5,161.5C2001.5,161.5,2001.5,220.5,2016.5,220.5L2144.5,220.5"></path><path id="kity_path_49" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2144.5,220.5C2159.5,220.5,2159.5,238.5,2174.5,238.5L2412.5,238.5"></path><path id="kity_path_51" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1503.5,212C1518.5,212,1518.5,290.5,1533.5,290.5L1639.5,290.5"></path><path id="kity_path_53" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1639.5,290.5C1654.5,290.5,1654.5,290.5,1669.5,290.5L1787.5,290.5"></path><path id="kity_path_55" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1099,663.5A197.5,452.5,0,0,0,1296.5,1116"></path><path id="kity_path_57" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1500.5,1116C1515.5,1116,1515.5,589.5,1530.5,589.5L1693.5,589.5"></path><path id="kity_path_59" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1693.5,589.5C1708.5,589.5,1708.5,392.5,1723.5,392.5L1810.5,392.5"></path><path id="kity_path_61" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1810.5,392.5C1825.5,392.5,1825.5,362.5,1840.5,362.5L1932.5,362.5"></path><path id="kity_path_63" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1932.5,362.5C1947.5,362.5,1947.5,371.5,1962.5,371.5L2225.5,371.5"></path><path id="kity_path_65" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1810.5,392.5C1825.5,392.5,1825.5,423.5,1840.5,423.5L1944.5,423.5"></path><path id="kity_path_67" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1944.5,423.5C1959.5,423.5,1959.5,423.5,1974.5,423.5L2056.5,423.5"></path><path id="kity_path_69" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1693.5,589.5C1708.5,589.5,1708.5,474.5,1723.5,474.5L1910.5,474.5"></path><path id="kity_path_71" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1693.5,589.5C1708.5,589.5,1708.5,526.5,1723.5,526.5L1883.5,526.5"></path><path id="kity_path_73" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1693.5,589.5C1708.5,589.5,1708.5,643.5,1723.5,643.5L1879.5,643.5"></path><path id="kity_path_75" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1879.5,643.5C1894.5,643.5,1894.5,604.5,1909.5,604.5L2140.5,604.5"></path><path id="kity_path_77" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2140.5,604.5C2155.5,604.5,2155.5,578.5,2170.5,578.5L2413.5,578.5"></path><path id="kity_path_79" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2413.5,578.5C2428.5,578.5,2428.5,578.5,2443.5,578.5L2642.5,578.5"></path><path id="kity_path_81" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2140.5,604.5C2155.5,604.5,2155.5,630.5,2170.5,630.5L2422.5,630.5"></path><path id="kity_path_83" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2422.5,630.5C2437.5,630.5,2437.5,630.5,2452.5,630.5L2722.5,630.5"></path><path id="kity_path_85" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1879.5,643.5C1894.5,643.5,1894.5,682.5,1909.5,682.5L2068.5,682.5"></path><path id="kity_path_87" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2068.5,682.5C2083.5,682.5,2083.5,682.5,2098.5,682.5L2297.5,682.5"></path><path id="kity_path_89" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1693.5,589.5C1708.5,589.5,1708.5,734.5,1723.5,734.5L2098.5,734.5"></path><path id="kity_path_91" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1693.5,589.5C1708.5,589.5,1708.5,786.5,1723.5,786.5L2082.5,786.5"></path><path id="kity_path_93" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1500.5,1116C1515.5,1116,1515.5,838.5,1530.5,838.5L2325.5,838.5"></path><path id="kity_path_95" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1500.5,1116C1515.5,1116,1515.5,1012.5,1530.5,1012.5L2049.5,1012.5"></path><path id="kity_path_97" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2049.5,1012.5C2064.5,1012.5,2064.5,890.5,2079.5,890.5L2273.5,890.5"></path><path id="kity_path_99" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2049.5,1012.5C2064.5,1012.5,2064.5,968.5,2079.5,968.5L2268.5,968.5"></path><path id="kity_path_101" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2268.5,968.5C2283.5,968.5,2283.5,942.5,2298.5,942.5L2413.5,942.5"></path><path id="kity_path_103" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2268.5,968.5C2283.5,968.5,2283.5,994.5,2298.5,994.5L2485.5,994.5"></path><path id="kity_path_105" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2049.5,1012.5C2064.5,1012.5,2064.5,1046.5,2079.5,1046.5L2709.5,1046.5"></path><path id="kity_path_107" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2049.5,1012.5C2064.5,1012.5,2064.5,1098.5,2079.5,1098.5L2435.5,1098.5"></path><path id="kity_path_109" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1500.5,1116C1515.5,1116,1515.5,1305.5,1530.5,1305.5L1709.5,1305.5"></path><path id="kity_path_111" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1709.5,1305.5C1724.5,1305.5,1724.5,1151.5,1739.5,1151.5L2220.5,1151.5"></path><path id="kity_path_113" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1709.5,1305.5C1724.5,1305.5,1724.5,1424.5,1739.5,1424.5L1914.5,1424.5"></path><path id="kity_path_115" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1914.5,1424.5C1929.5,1424.5,1929.5,1229.5,1944.5,1229.5L2315.5,1229.5"></path><path id="kity_path_117" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2315.5,1229.5C2330.5,1229.5,2330.5,1203.5,2345.5,1203.5L2735.5,1203.5"></path><path id="kity_path_119" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2315.5,1229.5C2330.5,1229.5,2330.5,1255.5,2345.5,1255.5L2562.5,1255.5"></path><path id="kity_path_121" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1914.5,1424.5C1929.5,1424.5,1929.5,1307.5,1944.5,1307.5L2307.5,1307.5"></path><path id="kity_path_123" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1914.5,1424.5C1929.5,1424.5,1929.5,1418.5,1944.5,1418.5L2133.5,1418.5"></path><path id="kity_path_125" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2133.5,1418.5C2148.5,1418.5,2148.5,1360.5,2163.5,1360.5L2278.5,1360.5"></path><path id="kity_path_127" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2278.5,1360.5C2293.5,1360.5,2293.5,1360.5,2308.5,1360.5L2339.5,1360.5"></path><path id="kity_path_129" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2133.5,1418.5C2148.5,1418.5,2148.5,1477.5,2163.5,1477.5L2319.5,1477.5"></path><path id="kity_path_131" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2319.5,1477.5C2334.5,1477.5,2334.5,1438.5,2349.5,1438.5L2580.5,1438.5"></path><path id="kity_path_133" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2580.5,1438.5C2595.5,1438.5,2595.5,1412.5,2610.5,1412.5L2853.5,1412.5"></path><path id="kity_path_135" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2853.5,1412.5C2868.5,1412.5,2868.5,1412.5,2883.5,1412.5L3082.5,1412.5"></path><path id="kity_path_137" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2580.5,1438.5C2595.5,1438.5,2595.5,1464.5,2610.5,1464.5L2862.5,1464.5"></path><path id="kity_path_139" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2862.5,1464.5C2877.5,1464.5,2877.5,1464.5,2892.5,1464.5L3162.5,1464.5"></path><path id="kity_path_141" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2319.5,1477.5C2334.5,1477.5,2334.5,1516.5,2349.5,1516.5L2508.5,1516.5"></path><path id="kity_path_143" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M2508.5,1516.5C2523.5,1516.5,2523.5,1516.5,2538.5,1516.5L2737.5,1516.5"></path><path id="kity_path_145" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1914.5,1424.5C1929.5,1424.5,1929.5,1567.5,1944.5,1567.5L2574.5,1567.5"></path><path id="kity_path_147" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1914.5,1424.5C1929.5,1424.5,1929.5,1619.5,1944.5,1619.5L2300.5,1619.5"></path><path id="kity_path_149" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1500.5,1116C1515.5,1116,1515.5,1670.5,1530.5,1670.5L2017.5,1670.5"></path><path id="kity_path_151" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M1099,663.5A197.5,0.5,0,0,1,901.5,664"></path><path id="kity_path_153" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M644.5,664C629.5,664,629.5,643.5,614.5,643.5L358.5,643.5"></path><path id="kity_path_155" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M358.5,643.5C343.5,643.5,343.5,652.5,328.5,652.5L20.5,652.5"></path><path id="kity_path_157" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M644.5,664C629.5,664,629.5,713.5,614.5,713.5L301.5,713.5"></path><path id="kity_path_159" fill="none" stroke="rgb(115, 161, 191)" stroke-width="1" d="M301.5,713.5C286.5,713.5,286.5,722.5,271.5,722.5L131.5,722.5"></path></g><g id="minder_node1"><path id="node_outline1" fill="rgb(115, 161, 191)" stroke="rgb(115, 161, 191)" d="M1024.5,643.5h149a5,5,0,0,1,5,5v30a5,5,0,0,1,-5,5h-149a5,5,0,0,1,-5,-5v-30a5,5,0,0,1,5,-5z" stroke-width="3"></path><g id="node_text1" fill="white"><text id="kity_text_22" text-rendering="inherit" font-size="16" dy=".8em" y="653.0999999046326" x="1043.5">React Diff 算法</text></g></g><g id="kity_g_12"><path id="kity_path_13" fill="none" stroke="none" d="M1043.5,663.5h0v0h0z"></path></g><g id="kity_g_14"><path id="kity_path_15" fill="none" stroke="none" d="M1043.5,663.5h0v0h0z"></path><path id="kity_path_16" fill="none" stroke="none"></path></g><g id="minder_node2"><g id="node_expander12" style="cursor: pointer;"><path id="kity_path_404" fill="white" stroke="gray" d="M1297.5,212A6,6,0,1,1,1285.5,212A6,6,0,1,1,1297.5,212"></path><path id="kity_path_405" fill="none" stroke="gray" d="M1287,212L1296,212"></path></g><path id="node_outline13" fill="rgb(238, 243, 246)" stroke="rgb(115, 161, 191)" d="M1301.5,188.5h199a3,3,0,0,1,3,3v41a3,3,0,0,1,-3,3h-199a3,3,0,0,1,-3,-3v-41a3,3,0,0,1,3,-3z" stroke-width="1"></path><g id="node_text13" fill="black"><text id="kity_text_188" text-rendering="inherit" font-size="14" dy=".8em" y="191.90000009536743" x="1318.5">对于单一child</text><text id="kity_text_189" text-rendering="inherit" font-size="14" dy=".8em" y="212.90000009536743" x="1318.5">(reconcileSingleElement)</text></g></g><g id="minder_node3"><g id="node_expander9" style="cursor: pointer;"><path id="kity_path_395" fill="white" stroke="gray" d="M1543.5,147.5A6,6,0,1,1,1531.5,147.5A6,6,0,1,1,1543.5,147.5"></path><path id="kity_path_396" fill="none" stroke="gray" d="M1533,147.5L1542,147.5"></path></g><path id="node_outline10" fill="none" stroke="none" d="M1548.5,136.5h86a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-86a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text10" fill="black"><text id="kity_text_182" text-rendering="inherit" font-size="12" dy=".8em" y="139.70000004768372" x="1553.5">存在旧的child</text></g></g><g id="minder_node4"><g id="node_expander8" style="cursor: pointer;"><path id="kity_path_392" fill="white" stroke="gray" d="M1679.5,147.5A6,6,0,1,1,1667.5,147.5A6,6,0,1,1,1679.5,147.5"></path><path id="kity_path_393" fill="none" stroke="gray" d="M1669,147.5L1678,147.5"></path></g><path id="node_outline9" fill="none" stroke="none" d="M1684.5,136.5h297a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-297a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text9" fill="black"><text id="kity_text_180" text-rendering="inherit" font-size="12" dy=".8em" y="139.70000004768372" x="1689.5">通过sibling遍历所有已经存在的child， 对每一个子级</text></g></g><g id="minder_node5"><g id="node_expander5" style="cursor: pointer;"><path id="kity_path_383" fill="white" stroke="gray" d="M2026.5,88.5A6,6,0,1,1,2014.5,88.5A6,6,0,1,1,2026.5,88.5"></path><path id="kity_path_384" fill="none" stroke="gray" d="M2016,88.5L2025,88.5"></path></g><path id="node_outline6" fill="none" stroke="none" d="M2031.5,77.5h96a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-96a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text6" fill="black"><text id="kity_text_172" text-rendering="inherit" font-size="12" dy=".8em" y="80.70000004768372" x="2036.5">若fiber.key相同</text></g></g><g id="minder_node6"><g id="node_expander2" style="cursor: pointer;"><path id="kity_path_374" fill="white" stroke="gray" d="M2172.5,49.5A6,6,0,1,1,2160.5,49.5A6,6,0,1,1,2172.5,49.5"></path><path id="kity_path_375" fill="none" stroke="gray" d="M2162,49.5L2171,49.5"></path></g><path id="node_outline3" fill="none" stroke="none" d="M2177.5,38.5h102a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-102a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text3" fill="black"><text id="kity_text_165" text-rendering="inherit" font-size="12" dy=".8em" y="41.700000047683716" x="2182.5">若fiber.type相同</text></g></g><g id="minder_node7"><g id="node_expander1" display="none" style="cursor: pointer;"><path id="kity_path_371" fill="white" stroke="gray" d="M2324.5,49.5A6,6,0,1,1,2312.5,49.5A6,6,0,1,1,2324.5,49.5"></path><path id="kity_path_372" fill="none" stroke="gray"></path></g><path id="node_outline2" fill="none" stroke="none" d="M2329.5,20.5h209a5,5,0,0,1,5,5v48a5,5,0,0,1,-5,5h-209a5,5,0,0,1,-5,-5v-48a5,5,0,0,1,5,-5z"></path><g id="node_text2" fill="black"><text id="kity_text_161" text-rendering="inherit" font-size="12" dy=".8em" y="23.700000047683716" x="2334.5">1. 对所有其他sibing进行标记删除</text><text id="kity_text_162" text-rendering="inherit" font-size="12" dy=".8em" y="41.700000047683716" x="2334.5">2. 复用当前节点</text><text id="kity_text_163" text-rendering="inherit" font-size="12" dy=".8em" y="59.700000047683716" x="2334.5">3. 跳出 reconcileSingleElement函数</text></g></g><g id="minder_node8"><g id="node_expander4" style="cursor: pointer;"><path id="kity_path_380" fill="white" stroke="gray" d="M2172.5,128.5A6,6,0,1,1,2160.5,128.5A6,6,0,1,1,2172.5,128.5"></path><path id="kity_path_381" fill="none" stroke="gray" d="M2162,128.5L2171,128.5"></path></g><path id="node_outline5" fill="none" stroke="none" d="M2177.5,117.5h102a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-102a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text5" fill="black"><text id="kity_text_170" text-rendering="inherit" font-size="12" dy=".8em" y="120.70000004768372" x="2182.5">若fiber.type不同</text></g></g><g id="minder_node9"><g id="node_expander3" display="none" style="cursor: pointer;"><path id="kity_path_377" fill="white" stroke="gray" d="M2324.5,128.5A6,6,0,1,1,2312.5,128.5A6,6,0,1,1,2324.5,128.5"></path><path id="kity_path_378" fill="none" stroke="gray"></path></g><path id="node_outline4" fill="none" stroke="none" d="M2329.5,108.5h153a5,5,0,0,1,5,5v30a5,5,0,0,1,-5,5h-153a5,5,0,0,1,-5,-5v-30a5,5,0,0,1,5,-5z"></path><g id="node_text4" fill="black"><text id="kity_text_167" text-rendering="inherit" font-size="12" dy=".8em" y="111.70000004768372" x="2334.5">1.对所有子级进行标记删除</text><text id="kity_text_168" text-rendering="inherit" font-size="12" dy=".8em" y="129.70000004768372" x="2334.5">2. 跳出对children的循环</text></g></g><g id="minder_node10"><g id="node_expander7" style="cursor: pointer;"><path id="kity_path_389" fill="white" stroke="gray" d="M2026.5,206.5A6,6,0,1,1,2014.5,206.5A6,6,0,1,1,2026.5,206.5"></path><path id="kity_path_390" fill="none" stroke="gray" d="M2016,206.5L2025,206.5"></path></g><path id="node_outline8" fill="none" stroke="none" d="M2031.5,195.5h108a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-108a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text8" fill="black"><text id="kity_text_178" text-rendering="inherit" font-size="12" dy=".8em" y="198.70000004768372" x="2036.5">若fiber.key不相同</text></g></g><g id="minder_node11"><g id="node_expander6" display="none" style="cursor: pointer;"><path id="kity_path_386" fill="white" stroke="gray" d="M2184.5,206.5A6,6,0,1,1,2172.5,206.5A6,6,0,1,1,2184.5,206.5"></path><path id="kity_path_387" fill="none" stroke="gray"></path></g><path id="node_outline7" fill="none" stroke="none" d="M2189.5,177.5h218a5,5,0,0,1,5,5v48a5,5,0,0,1,-5,5h-218a5,5,0,0,1,-5,-5v-48a5,5,0,0,1,5,-5z"></path><g id="node_text7" fill="black"><text id="kity_text_174" text-rendering="inherit" font-size="12" dy=".8em" y="180.70000004768372" x="2194.5">对这个子级进行标记删除：</text><text id="kity_text_175" text-rendering="inherit" font-size="12" dy=".8em" y="198.70000004768372" x="2194.5">1. 子级fiber.flags = Deletion</text><text id="kity_text_176" text-rendering="inherit" font-size="12" dy=".8em" y="216.70000004768372" x="2194.5">2. 子级fiber加入父级fiber的effect链表</text></g></g><g id="minder_node12"><g id="node_expander11" style="cursor: pointer;"><path id="kity_path_401" fill="white" stroke="gray" d="M1543.5,276.5A6,6,0,1,1,1531.5,276.5A6,6,0,1,1,1543.5,276.5"></path><path id="kity_path_402" fill="none" stroke="gray" d="M1533,276.5L1542,276.5"></path></g><path id="node_outline12" fill="none" stroke="none" d="M1548.5,265.5h86a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-86a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text12" fill="black"><text id="kity_text_186" text-rendering="inherit" font-size="12" dy=".8em" y="268.7000000476837" x="1553.5">没有旧的child</text></g></g><g id="minder_node13"><g id="node_expander10" display="none" style="cursor: pointer;"><path id="kity_path_398" fill="white" stroke="gray" d="M1679.5,276.5A6,6,0,1,1,1667.5,276.5A6,6,0,1,1,1679.5,276.5"></path><path id="kity_path_399" fill="none" stroke="gray"></path></g><path id="node_outline11" fill="none" stroke="none" d="M1684.5,265.5h98a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-98a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text11" fill="black"><text id="kity_text_184" text-rendering="inherit" font-size="12" dy=".8em" y="268.7000000476837" x="1689.5">创建新fiber对象</text></g></g><g id="minder_node14"><g id="node_expander60" style="cursor: pointer;"><path id="kity_path_548" fill="white" stroke="gray" d="M1297.5,1116A6,6,0,1,1,1285.5,1116A6,6,0,1,1,1297.5,1116"></path><path id="kity_path_549" fill="none" stroke="gray" d="M1287,1116L1296,1116"></path></g><path id="node_outline61" fill="rgb(238, 243, 246)" stroke="rgb(115, 161, 191)" d="M1301.5,1092.5h196a3,3,0,0,1,3,3v41a3,3,0,0,1,-3,3h-196a3,3,0,0,1,-3,-3v-41a3,3,0,0,1,3,-3z" stroke-width="1"></path><g id="node_text61" fill="black"><text id="kity_text_290" text-rendering="inherit" font-size="14" dy=".8em" y="1095.9000000953674" x="1318.5">对于child是数组类型的</text><text id="kity_text_291" text-rendering="inherit" font-size="14" dy=".8em" y="1116.9000000953674" x="1318.5">(reconcileChildrenArray)</text></g></g><g id="minder_node15"><g id="node_expander30" style="cursor: pointer;"><path id="kity_path_458" fill="white" stroke="gray" d="M1540.5,575.5A6,6,0,1,1,1528.5,575.5A6,6,0,1,1,1540.5,575.5"></path><path id="kity_path_459" fill="none" stroke="gray" d="M1530,575.5L1539,575.5"></path></g><path id="node_outline31" fill="none" stroke="none" d="M1545.5,564.5h143a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-143a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text31" fill="black"><text id="kity_text_226" text-rendering="inherit" font-size="12" dy=".8em" y="567.7000000476837" x="1550.5">第一次循环newChildren</text></g></g><g id="minder_node16"><g id="node_expander17" style="cursor: pointer;"><path id="kity_path_419" fill="white" stroke="gray" d="M1733.5,378.5A6,6,0,1,1,1721.5,378.5A6,6,0,1,1,1733.5,378.5"></path><path id="kity_path_420" fill="none" stroke="gray" d="M1723,378.5L1732,378.5"></path></g><path id="node_outline18" fill="none" stroke="none" d="M1738.5,367.5h67a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-67a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text18" fill="black"><text id="kity_text_200" text-rendering="inherit" font-size="12" dy=".8em" y="370.7000000476837" x="1743.5">若key相同</text></g></g><g id="minder_node17"><g id="node_expander14" style="cursor: pointer;"><path id="kity_path_410" fill="white" stroke="gray" d="M1850.5,348.5A6,6,0,1,1,1838.5,348.5A6,6,0,1,1,1850.5,348.5"></path><path id="kity_path_411" fill="none" stroke="gray" d="M1840,348.5L1849,348.5"></path></g><path id="node_outline15" fill="none" stroke="none" d="M1855.5,337.5h72a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-72a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text15" fill="black"><text id="kity_text_194" text-rendering="inherit" font-size="12" dy=".8em" y="340.7000000476837" x="1860.5">若type相同</text></g></g><g id="minder_node18"><g id="node_expander13" display="none" style="cursor: pointer;"><path id="kity_path_407" fill="white" stroke="gray" d="M1972.5,348.5A6,6,0,1,1,1960.5,348.5A6,6,0,1,1,1972.5,348.5"></path><path id="kity_path_408" fill="none" stroke="gray"></path></g><path id="node_outline14" fill="none" stroke="none" d="M1977.5,328.5h243a5,5,0,0,1,5,5v30a5,5,0,0,1,-5,5h-243a5,5,0,0,1,-5,-5v-30a5,5,0,0,1,5,-5z"></path><g id="node_text14" fill="black"><text id="kity_text_191" text-rendering="inherit" font-size="12" dy=".8em" y="331.7000000476837" x="1982.5">1. 复用当前oldFiber</text><text id="kity_text_192" text-rendering="inherit" font-size="12" dy=".8em" y="349.7000000476837" x="1982.5">2. 若需要追踪副作用， 对oldFiber标记删除</text></g></g><g id="minder_node19"><g id="node_expander16" style="cursor: pointer;"><path id="kity_path_416" fill="white" stroke="gray" d="M1850.5,409.5A6,6,0,1,1,1838.5,409.5A6,6,0,1,1,1850.5,409.5"></path><path id="kity_path_417" fill="none" stroke="gray" d="M1840,409.5L1849,409.5"></path></g><path id="node_outline17" fill="none" stroke="none" d="M1855.5,398.5h84a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-84a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text17" fill="black"><text id="kity_text_198" text-rendering="inherit" font-size="12" dy=".8em" y="401.7000000476837" x="1860.5">若type不相同</text></g></g><g id="minder_node20"><g id="node_expander15" display="none" style="cursor: pointer;"><path id="kity_path_413" fill="white" stroke="gray" d="M1984.5,409.5A6,6,0,1,1,1972.5,409.5A6,6,0,1,1,1984.5,409.5"></path><path id="kity_path_414" fill="none" stroke="gray"></path></g><path id="node_outline16" fill="none" stroke="none" d="M1989.5,398.5h62a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-62a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text16" fill="black"><text id="kity_text_196" text-rendering="inherit" font-size="12" dy=".8em" y="401.7000000476837" x="1994.5">新建fiber</text></g></g><g id="minder_node21"><g id="node_expander18" display="none" style="cursor: pointer;"><path id="kity_path_422" fill="white" stroke="gray" d="M1733.5,460.5A6,6,0,1,1,1721.5,460.5A6,6,0,1,1,1733.5,460.5"></path><path id="kity_path_423" fill="none" stroke="gray"></path></g><path id="node_outline19" fill="none" stroke="none" d="M1738.5,449.5h167a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-167a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text19" fill="black"><text id="kity_text_202" text-rendering="inherit" font-size="12" dy=".8em" y="452.7000000476837" x="1743.5">若key不同， 跳出第一次循环</text></g></g><g id="minder_node22"><g id="node_expander19" display="none" style="cursor: pointer;"><path id="kity_path_425" fill="white" stroke="gray" d="M1733.5,512.5A6,6,0,1,1,1721.5,512.5A6,6,0,1,1,1733.5,512.5"></path><path id="kity_path_426" fill="none" stroke="gray"></path></g><path id="node_outline20" fill="none" stroke="none" d="M1738.5,501.5h140a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-140a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text20" fill="black"><text id="kity_text_204" text-rendering="inherit" font-size="12" dy=".8em" y="504.7000000476837" x="1743.5">设置新fiber节点的index</text></g></g><g id="minder_node23"><g id="node_expander27" style="cursor: pointer;"><path id="kity_path_449" fill="white" stroke="gray" d="M1733.5,629.5A6,6,0,1,1,1721.5,629.5A6,6,0,1,1,1733.5,629.5"></path><path id="kity_path_450" fill="none" stroke="gray" d="M1723,629.5L1732,629.5"></path></g><path id="node_outline28" fill="none" stroke="none" d="M1738.5,618.5h136a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-136a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text28" fill="black"><text id="kity_text_220" text-rendering="inherit" font-size="12" dy=".8em" y="621.7000000476837" x="1743.5">设置新fiber节点的flags</text></g></g><g id="minder_node24"><g id="node_expander24" style="cursor: pointer;"><path id="kity_path_440" fill="white" stroke="gray" d="M1919.5,590.5A6,6,0,1,1,1907.5,590.5A6,6,0,1,1,1919.5,590.5"></path><path id="kity_path_441" fill="none" stroke="gray" d="M1909,590.5L1918,590.5"></path></g><path id="node_outline25" fill="none" stroke="none" d="M1924.5,579.5h211a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-211a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text25" fill="black"><text id="kity_text_214" text-rendering="inherit" font-size="12" dy=".8em" y="582.7000000476837" x="1929.5">若存在 fiber.alternate(这是复用节点)</text></g></g><g id="minder_node25"><g id="node_expander21" style="cursor: pointer;"><path id="kity_path_431" fill="white" stroke="gray" d="M2180.5,564.5A6,6,0,1,1,2168.5,564.5A6,6,0,1,1,2180.5,564.5"></path><path id="kity_path_432" fill="none" stroke="gray" d="M2170,564.5L2179,564.5"></path></g><path id="node_outline22" fill="none" stroke="none" d="M2185.5,553.5h223a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-223a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text22" fill="black"><text id="kity_text_208" text-rendering="inherit" font-size="12" dy=".8em" y="556.7000000476837" x="2190.5">fiber.alternate.index &lt; lastPlaceIndex</text></g></g><g id="minder_node26"><g id="node_expander20" display="none" style="cursor: pointer;"><path id="kity_path_428" fill="white" stroke="gray" d="M2453.5,564.5A6,6,0,1,1,2441.5,564.5A6,6,0,1,1,2453.5,564.5"></path><path id="kity_path_429" fill="none" stroke="gray"></path></g><path id="node_outline21" fill="none" stroke="none" d="M2458.5,553.5h179a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-179a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text21" fill="black"><text id="kity_text_206" text-rendering="inherit" font-size="12" dy=".8em" y="556.7000000476837" x="2463.5">设置新fiber.flags = Placement</text></g></g><g id="minder_node27"><g id="node_expander23" style="cursor: pointer;"><path id="kity_path_437" fill="white" stroke="gray" d="M2180.5,616.5A6,6,0,1,1,2168.5,616.5A6,6,0,1,1,2180.5,616.5"></path><path id="kity_path_438" fill="none" stroke="gray" d="M2170,616.5L2179,616.5"></path></g><path id="node_outline24" fill="none" stroke="none" d="M2185.5,605.5h232a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-232a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text24" fill="black"><text id="kity_text_212" text-rendering="inherit" font-size="12" dy=".8em" y="608.7000000476837" x="2190.5">fiber.alternate.index &gt;= lastPlaceIndex</text></g></g><g id="minder_node28"><g id="node_expander22" display="none" style="cursor: pointer;"><path id="kity_path_434" fill="white" stroke="gray" d="M2462.5,616.5A6,6,0,1,1,2450.5,616.5A6,6,0,1,1,2462.5,616.5"></path><path id="kity_path_435" fill="none" stroke="gray"></path></g><path id="node_outline23" fill="none" stroke="none" d="M2467.5,605.5h250a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-250a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text23" fill="black"><text id="kity_text_210" text-rendering="inherit" font-size="12" dy=".8em" y="608.7000000476837" x="2472.5">设置 lastPlaceIndex = fiber.alternate.index</text></g></g><g id="minder_node29"><g id="node_expander26" style="cursor: pointer;"><path id="kity_path_446" fill="white" stroke="gray" d="M1919.5,668.5A6,6,0,1,1,1907.5,668.5A6,6,0,1,1,1919.5,668.5"></path><path id="kity_path_447" fill="none" stroke="gray" d="M1909,668.5L1918,668.5"></path></g><path id="node_outline27" fill="none" stroke="none" d="M1924.5,657.5h139a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-139a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text27" fill="black"><text id="kity_text_218" text-rendering="inherit" font-size="12" dy=".8em" y="660.7000000476837" x="1929.5">若不存在fiber.alternate</text></g></g><g id="minder_node30"><g id="node_expander25" display="none" style="cursor: pointer;"><path id="kity_path_443" fill="white" stroke="gray" d="M2108.5,668.5A6,6,0,1,1,2096.5,668.5A6,6,0,1,1,2108.5,668.5"></path><path id="kity_path_444" fill="none" stroke="gray"></path></g><path id="node_outline26" fill="none" stroke="none" d="M2113.5,657.5h179a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-179a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text26" fill="black"><text id="kity_text_216" text-rendering="inherit" font-size="12" dy=".8em" y="660.7000000476837" x="2118.5">设置新fiber.flags = Placement</text></g></g><g id="minder_node31"><g id="node_expander28" display="none" style="cursor: pointer;"><path id="kity_path_452" fill="white" stroke="gray" d="M1733.5,720.5A6,6,0,1,1,1721.5,720.5A6,6,0,1,1,1733.5,720.5"></path><path id="kity_path_453" fill="none" stroke="gray"></path></g><path id="node_outline29" fill="none" stroke="none" d="M1738.5,709.5h355a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-355a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text29" fill="black"><text id="kity_text_222" text-rendering="inherit" font-size="12" dy=".8em" y="712.7000000476837" x="1743.5">第一次循环， 赋值resultingFirstChild, 这是最终返回的fiber节点</text></g></g><g id="minder_node32"><g id="node_expander29" display="none" style="cursor: pointer;"><path id="kity_path_455" fill="white" stroke="gray" d="M1733.5,772.5A6,6,0,1,1,1721.5,772.5A6,6,0,1,1,1733.5,772.5"></path><path id="kity_path_456" fill="none" stroke="gray"></path></g><path id="node_outline30" fill="none" stroke="none" d="M1738.5,761.5h339a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-339a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text30" fill="black"><text id="kity_text_224" text-rendering="inherit" font-size="12" dy=".8em" y="764.7000000476837" x="1743.5">后续循环， 使用previousNewFiber.sibling链接新的兄弟节点</text></g></g><g id="minder_node33"><g id="node_expander31" display="none" style="cursor: pointer;"><path id="kity_path_461" fill="white" stroke="gray" d="M1540.5,824.5A6,6,0,1,1,1528.5,824.5A6,6,0,1,1,1540.5,824.5"></path><path id="kity_path_462" fill="none" stroke="gray"></path></g><path id="node_outline32" fill="none" stroke="none" d="M1545.5,813.5h775a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-775a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text32" fill="black"><text id="kity_text_228" text-rendering="inherit" font-size="12" dy=".8em" y="816.7000000476837" x="1550.5">判断newChildren是否已经遍历完，若是则删除剩下的oldFiber (显而易见， 这时还剩下的oldFiber都是需要删除的)， 并返回， 跳过剩下的循环</text></g></g><g id="minder_node34"><g id="node_expander38" style="cursor: pointer;"><path id="kity_path_482" fill="white" stroke="gray" d="M1540.5,980.5A6,6,0,1,1,1528.5,980.5A6,6,0,1,1,1540.5,980.5"></path><path id="kity_path_483" fill="none" stroke="gray" d="M1530,980.5L1539,980.5"></path></g><path id="node_outline39" fill="none" stroke="none" d="M1545.5,951.5h499a5,5,0,0,1,5,5v48a5,5,0,0,1,-5,5h-499a5,5,0,0,1,-5,-5v-48a5,5,0,0,1,5,-5z"></path><g id="node_text39" fill="black"><text id="kity_text_242" text-rendering="inherit" font-size="12" dy=".8em" y="954.7000000476837" x="1550.5">判断oldFilber是否已经消耗完， 若是进入第二次循环newChildren， 这次循环不会尝试复用</text><text id="kity_text_243" text-rendering="inherit" font-size="12" dy=".8em" y="972.7000000476837" x="1550.5">(此时oldFiber已经没了， 那么剩下的newChildren都一定是插入操作)， </text><text id="kity_text_244" text-rendering="inherit" font-size="12" dy=".8em" y="990.7000000476837" x="1550.5">循环结束后返回resultingFirstChild, 跳过剩下的循环</text></g></g><g id="minder_node35"><g id="node_expander32" display="none" style="cursor: pointer;"><path id="kity_path_464" fill="white" stroke="gray" d="M2089.5,876.5A6,6,0,1,1,2077.5,876.5A6,6,0,1,1,2089.5,876.5"></path><path id="kity_path_465" fill="none" stroke="gray"></path></g><path id="node_outline33" fill="none" stroke="none" d="M2094.5,865.5h174a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-174a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text33" fill="black"><text id="kity_text_230" text-rendering="inherit" font-size="12" dy=".8em" y="868.7000000476837" x="2099.5">createChild创建新的fiber对象</text></g></g><g id="minder_node36"><g id="node_expander35" style="cursor: pointer;"><path id="kity_path_473" fill="white" stroke="gray" d="M2089.5,954.5A6,6,0,1,1,2077.5,954.5A6,6,0,1,1,2089.5,954.5"></path><path id="kity_path_474" fill="none" stroke="gray" d="M2079,954.5L2088,954.5"></path></g><path id="node_outline36" fill="none" stroke="none" d="M2094.5,943.5h169a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-169a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text36" fill="black"><text id="kity_text_236" text-rendering="inherit" font-size="12" dy=".8em" y="946.7000000476837" x="2099.5">placeChild处理新的fiber对象</text></g></g><g id="minder_node37"><g id="node_expander33" display="none" style="cursor: pointer;"><path id="kity_path_467" fill="white" stroke="gray" d="M2308.5,928.5A6,6,0,1,1,2296.5,928.5A6,6,0,1,1,2308.5,928.5"></path><path id="kity_path_468" fill="none" stroke="gray"></path></g><path id="node_outline34" fill="none" stroke="none" d="M2313.5,917.5h95a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-95a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text34" fill="black"><text id="kity_text_232" text-rendering="inherit" font-size="12" dy=".8em" y="920.7000000476837" x="2318.5">设置fiber.index</text></g></g><g id="minder_node38"><g id="node_expander34" display="none" style="cursor: pointer;"><path id="kity_path_470" fill="white" stroke="gray" d="M2308.5,980.5A6,6,0,1,1,2296.5,980.5A6,6,0,1,1,2308.5,980.5"></path><path id="kity_path_471" fill="none" stroke="gray"></path></g><path id="node_outline35" fill="none" stroke="none" d="M2313.5,969.5h167a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-167a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text35" fill="black"><text id="kity_text_234" text-rendering="inherit" font-size="12" dy=".8em" y="972.7000000476837" x="2318.5">设置fiber.flags = Placement</text></g></g><g id="minder_node39"><g id="node_expander36" display="none" style="cursor: pointer;"><path id="kity_path_476" fill="white" stroke="gray" d="M2089.5,1032.5A6,6,0,1,1,2077.5,1032.5A6,6,0,1,1,2089.5,1032.5"></path><path id="kity_path_477" fill="none" stroke="gray"></path></g><path id="node_outline37" fill="none" stroke="none" d="M2094.5,1021.5h610a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-610a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text37" fill="black"><text id="kity_text_238" text-rendering="inherit" font-size="12" dy=".8em" y="1024.7000000476837" x="2099.5">本轮一次循环， 且之前的循环没有设置&#xa0;previousNewFiber， 赋值resultingFirstChild, 这是最终返回的fiber节点</text></g></g><g id="minder_node40"><g id="node_expander37" display="none" style="cursor: pointer;"><path id="kity_path_479" fill="white" stroke="gray" d="M2089.5,1084.5A6,6,0,1,1,2077.5,1084.5A6,6,0,1,1,2089.5,1084.5"></path><path id="kity_path_480" fill="none" stroke="gray"></path></g><path id="node_outline38" fill="none" stroke="none" d="M2094.5,1073.5h336a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-336a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text38" fill="black"><text id="kity_text_240" text-rendering="inherit" font-size="12" dy=".8em" y="1076.7000000476837" x="2099.5">后续循环，使用previousNewFiber.sibling链接新的兄弟节点 </text></g></g><g id="minder_node41"><g id="node_expander58" style="cursor: pointer;"><path id="kity_path_542" fill="white" stroke="gray" d="M1540.5,1273.5A6,6,0,1,1,1528.5,1273.5A6,6,0,1,1,1540.5,1273.5"></path><path id="kity_path_543" fill="none" stroke="gray" d="M1530,1273.5L1539,1273.5"></path></g><path id="node_outline59" fill="none" stroke="none" d="M1545.5,1244.5h159a5,5,0,0,1,5,5v48a5,5,0,0,1,-5,5h-159a5,5,0,0,1,-5,-5v-48a5,5,0,0,1,5,-5z"></path><g id="node_text59" fill="black"><text id="kity_text_284" text-rendering="inherit" font-size="12" dy=".8em" y="1247.7000000476837" x="1550.5">若前面都没有跳过， 说明：</text><text id="kity_text_285" text-rendering="inherit" font-size="12" dy=".8em" y="1265.7000000476837" x="1550.5">1. 此时还存在newChildren</text><text id="kity_text_286" text-rendering="inherit" font-size="12" dy=".8em" y="1283.7000000476837" x="1550.5">2. 此时还存在oldFiber</text></g></g><g id="minder_node42"><g id="node_expander39" display="none" style="cursor: pointer;"><path id="kity_path_485" fill="white" stroke="gray" d="M1749.5,1137.5A6,6,0,1,1,1737.5,1137.5A6,6,0,1,1,1749.5,1137.5"></path><path id="kity_path_486" fill="none" stroke="gray"></path></g><path id="node_outline40" fill="none" stroke="none" d="M1754.5,1126.5h461a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-461a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text40" fill="black"><text id="kity_text_246" text-rendering="inherit" font-size="12" dy=".8em" y="1129.7000000476837" x="1759.5">所有旧fiber节点由链表转为Map结构， key是fiber.key或fiber.index， value是fiber</text></g></g><g id="minder_node43"><g id="node_expander57" style="cursor: pointer;"><path id="kity_path_539" fill="white" stroke="gray" d="M1749.5,1410.5A6,6,0,1,1,1737.5,1410.5A6,6,0,1,1,1749.5,1410.5"></path><path id="kity_path_540" fill="none" stroke="gray" d="M1739,1410.5L1748,1410.5"></path></g><path id="node_outline58" fill="none" stroke="none" d="M1754.5,1399.5h155a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-155a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text58" fill="black"><text id="kity_text_282" text-rendering="inherit" font-size="12" dy=".8em" y="1402.7000000476837" x="1759.5">循环剩余所有newChildren</text></g></g><g id="minder_node44"><g id="node_expander42" style="cursor: pointer;"><path id="kity_path_494" fill="white" stroke="gray" d="M1954.5,1215.5A6,6,0,1,1,1942.5,1215.5A6,6,0,1,1,1954.5,1215.5"></path><path id="kity_path_495" fill="none" stroke="gray" d="M1944,1215.5L1953,1215.5"></path></g><path id="node_outline43" fill="none" stroke="none" d="M1959.5,1204.5h351a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-351a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text43" fill="black"><text id="kity_text_252" text-rendering="inherit" font-size="12" dy=".8em" y="1207.7000000476837" x="1964.5">从上面的map中通过匹配key/index, 获得一个可能存在的旧节点</text></g></g><g id="minder_node45"><g id="node_expander40" display="none" style="cursor: pointer;"><path id="kity_path_488" fill="white" stroke="gray" d="M2355.5,1189.5A6,6,0,1,1,2343.5,1189.5A6,6,0,1,1,2355.5,1189.5"></path><path id="kity_path_489" fill="none" stroke="gray"></path></g><path id="node_outline41" fill="none" stroke="none" d="M2360.5,1178.5h370a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-370a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text41" fill="black"><text id="kity_text_248" text-rendering="inherit" font-size="12" dy=".8em" y="1181.7000000476837" x="2365.5">若存在旧节点， 判断新旧节点type是否相等， 若相等则复用旧fiber</text></g></g><g id="minder_node46"><g id="node_expander41" display="none" style="cursor: pointer;"><path id="kity_path_491" fill="white" stroke="gray" d="M2355.5,1241.5A6,6,0,1,1,2343.5,1241.5A6,6,0,1,1,2355.5,1241.5"></path><path id="kity_path_492" fill="none" stroke="gray"></path></g><path id="node_outline42" fill="none" stroke="none" d="M2360.5,1230.5h197a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-197a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text42" fill="black"><text id="kity_text_250" text-rendering="inherit" font-size="12" dy=".8em" y="1233.7000000476837" x="2365.5">若不存在旧节点， 直接创建新fiber</text></g></g><g id="minder_node47"><g id="node_expander43" display="none" style="cursor: pointer;"><path id="kity_path_497" fill="white" stroke="gray" d="M1954.5,1293.5A6,6,0,1,1,1942.5,1293.5A6,6,0,1,1,1954.5,1293.5"></path><path id="kity_path_498" fill="none" stroke="gray"></path></g><path id="node_outline44" fill="none" stroke="none" d="M1959.5,1282.5h343a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-343a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text44" fill="black"><text id="kity_text_254" text-rendering="inherit" font-size="12" dy=".8em" y="1285.7000000476837" x="1964.5">若上一步创建的fiber是复用节点， 标记删除复用的旧fiber节点</text></g></g><g id="minder_node48"><g id="node_expander54" style="cursor: pointer;"><path id="kity_path_530" fill="white" stroke="gray" d="M1954.5,1404.5A6,6,0,1,1,1942.5,1404.5A6,6,0,1,1,1954.5,1404.5"></path><path id="kity_path_531" fill="none" stroke="gray" d="M1944,1404.5L1953,1404.5"></path></g><path id="node_outline55" fill="none" stroke="none" d="M1959.5,1393.5h169a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-169a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text55" fill="black"><text id="kity_text_276" text-rendering="inherit" font-size="12" dy=".8em" y="1396.7000000476837" x="1964.5">placeChild处理新的fiber对象</text></g></g><g id="minder_node49"><g id="node_expander45" style="cursor: pointer;"><path id="kity_path_503" fill="white" stroke="gray" d="M2173.5,1346.5A6,6,0,1,1,2161.5,1346.5A6,6,0,1,1,2173.5,1346.5"></path><path id="kity_path_504" fill="none" stroke="gray" d="M2163,1346.5L2172,1346.5"></path></g><path id="node_outline46" fill="none" stroke="none" d="M2178.5,1335.5h95a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-95a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text46" fill="black"><text id="kity_text_258" text-rendering="inherit" font-size="12" dy=".8em" y="1338.7000000476837" x="2183.5">设置fiber.index</text></g></g><g id="minder_node50"><g id="node_expander44" display="none" style="cursor: pointer;"><path id="kity_path_500" fill="white" stroke="gray" d="M2318.5,1346.5A6,6,0,1,1,2306.5,1346.5A6,6,0,1,1,2318.5,1346.5"></path><path id="kity_path_501" fill="none" stroke="gray"></path></g><path id="node_outline45" fill="none" stroke="none" d="M2323.5,1335.5h11a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-11a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text45" fill="black"><text id="kity_text_256" text-rendering="inherit" font-size="12" dy=".8em" y="1338.7000000476837" x="2328.5"> </text></g></g><g id="minder_node51"><g id="node_expander53" style="cursor: pointer;"><path id="kity_path_527" fill="white" stroke="gray" d="M2173.5,1463.5A6,6,0,1,1,2161.5,1463.5A6,6,0,1,1,2173.5,1463.5"></path><path id="kity_path_528" fill="none" stroke="gray" d="M2163,1463.5L2172,1463.5"></path></g><path id="node_outline54" fill="none" stroke="none" d="M2178.5,1452.5h136a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-136a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text54" fill="black"><text id="kity_text_274" text-rendering="inherit" font-size="12" dy=".8em" y="1455.7000000476837" x="2183.5">设置新fiber节点的flags</text></g></g><g id="minder_node52"><g id="node_expander50" style="cursor: pointer;"><path id="kity_path_518" fill="white" stroke="gray" d="M2359.5,1424.5A6,6,0,1,1,2347.5,1424.5A6,6,0,1,1,2359.5,1424.5"></path><path id="kity_path_519" fill="none" stroke="gray" d="M2349,1424.5L2358,1424.5"></path></g><path id="node_outline51" fill="none" stroke="none" d="M2364.5,1413.5h211a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-211a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text51" fill="black"><text id="kity_text_268" text-rendering="inherit" font-size="12" dy=".8em" y="1416.7000000476837" x="2369.5">若存在 fiber.alternate(这是复用节点)</text></g></g><g id="minder_node53"><g id="node_expander47" style="cursor: pointer;"><path id="kity_path_509" fill="white" stroke="gray" d="M2620.5,1398.5A6,6,0,1,1,2608.5,1398.5A6,6,0,1,1,2620.5,1398.5"></path><path id="kity_path_510" fill="none" stroke="gray" d="M2610,1398.5L2619,1398.5"></path></g><path id="node_outline48" fill="none" stroke="none" d="M2625.5,1387.5h223a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-223a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text48" fill="black"><text id="kity_text_262" text-rendering="inherit" font-size="12" dy=".8em" y="1390.7000000476837" x="2630.5">fiber.alternate.index &lt; lastPlaceIndex</text></g></g><g id="minder_node54"><g id="node_expander46" display="none" style="cursor: pointer;"><path id="kity_path_506" fill="white" stroke="gray" d="M2893.5,1398.5A6,6,0,1,1,2881.5,1398.5A6,6,0,1,1,2893.5,1398.5"></path><path id="kity_path_507" fill="none" stroke="gray"></path></g><path id="node_outline47" fill="none" stroke="none" d="M2898.5,1387.5h179a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-179a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text47" fill="black"><text id="kity_text_260" text-rendering="inherit" font-size="12" dy=".8em" y="1390.7000000476837" x="2903.5">设置新fiber.flags = Placement</text></g></g><g id="minder_node55"><g id="node_expander49" style="cursor: pointer;"><path id="kity_path_515" fill="white" stroke="gray" d="M2620.5,1450.5A6,6,0,1,1,2608.5,1450.5A6,6,0,1,1,2620.5,1450.5"></path><path id="kity_path_516" fill="none" stroke="gray" d="M2610,1450.5L2619,1450.5"></path></g><path id="node_outline50" fill="none" stroke="none" d="M2625.5,1439.5h232a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-232a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text50" fill="black"><text id="kity_text_266" text-rendering="inherit" font-size="12" dy=".8em" y="1442.7000000476837" x="2630.5">fiber.alternate.index &gt;= lastPlaceIndex</text></g></g><g id="minder_node56"><g id="node_expander48" display="none" style="cursor: pointer;"><path id="kity_path_512" fill="white" stroke="gray" d="M2902.5,1450.5A6,6,0,1,1,2890.5,1450.5A6,6,0,1,1,2902.5,1450.5"></path><path id="kity_path_513" fill="none" stroke="gray"></path></g><path id="node_outline49" fill="none" stroke="none" d="M2907.5,1439.5h250a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-250a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text49" fill="black"><text id="kity_text_264" text-rendering="inherit" font-size="12" dy=".8em" y="1442.7000000476837" x="2912.5">设置 lastPlaceIndex = fiber.alternate.index</text></g></g><g id="minder_node57"><g id="node_expander52" style="cursor: pointer;"><path id="kity_path_524" fill="white" stroke="gray" d="M2359.5,1502.5A6,6,0,1,1,2347.5,1502.5A6,6,0,1,1,2359.5,1502.5"></path><path id="kity_path_525" fill="none" stroke="gray" d="M2349,1502.5L2358,1502.5"></path></g><path id="node_outline53" fill="none" stroke="none" d="M2364.5,1491.5h139a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-139a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text53" fill="black"><text id="kity_text_272" text-rendering="inherit" font-size="12" dy=".8em" y="1494.7000000476837" x="2369.5">若不存在fiber.alternate</text></g></g><g id="minder_node58"><g id="node_expander51" display="none" style="cursor: pointer;"><path id="kity_path_521" fill="white" stroke="gray" d="M2548.5,1502.5A6,6,0,1,1,2536.5,1502.5A6,6,0,1,1,2548.5,1502.5"></path><path id="kity_path_522" fill="none" stroke="gray"></path></g><path id="node_outline52" fill="none" stroke="none" d="M2553.5,1491.5h179a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-179a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text52" fill="black"><text id="kity_text_270" text-rendering="inherit" font-size="12" dy=".8em" y="1494.7000000476837" x="2558.5">设置新fiber.flags = Placement</text></g></g><g id="minder_node59"><g id="node_expander55" display="none" style="cursor: pointer;"><path id="kity_path_533" fill="white" stroke="gray" d="M1954.5,1553.5A6,6,0,1,1,1942.5,1553.5A6,6,0,1,1,1954.5,1553.5"></path><path id="kity_path_534" fill="none" stroke="gray"></path></g><path id="node_outline56" fill="none" stroke="none" d="M1959.5,1542.5h610a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-610a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text56" fill="black"><text id="kity_text_278" text-rendering="inherit" font-size="12" dy=".8em" y="1545.7000000476837" x="1964.5">本轮一次循环， 且之前的循环没有设置&#xa0;previousNewFiber， 赋值resultingFirstChild, 这是最终返回的fiber节点</text></g></g><g id="minder_node60"><g id="node_expander56" display="none" style="cursor: pointer;"><path id="kity_path_536" fill="white" stroke="gray" d="M1954.5,1605.5A6,6,0,1,1,1942.5,1605.5A6,6,0,1,1,1954.5,1605.5"></path><path id="kity_path_537" fill="none" stroke="gray"></path></g><path id="node_outline57" fill="none" stroke="none" d="M1959.5,1594.5h336a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-336a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text57" fill="black"><text id="kity_text_280" text-rendering="inherit" font-size="12" dy=".8em" y="1597.7000000476837" x="1964.5">后续循环，使用previousNewFiber.sibling链接新的兄弟节点 </text></g></g><g id="minder_node61"><g id="node_expander59" display="none" style="cursor: pointer;"><path id="kity_path_545" fill="white" stroke="gray" d="M1540.5,1656.5A6,6,0,1,1,1528.5,1656.5A6,6,0,1,1,1540.5,1656.5"></path><path id="kity_path_546" fill="none" stroke="gray"></path></g><path id="node_outline60" fill="none" stroke="none" d="M1545.5,1645.5h467a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-467a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text60" fill="black"><text id="kity_text_288" text-rendering="inherit" font-size="12" dy=".8em" y="1648.7000000476837" x="1550.5">所有循环结束， 若还存在旧节点， 且需要追踪副作用， 则对所有旧节点进行标记删除</text></g></g><g id="minder_node62"><g id="node_expander65" style="cursor: pointer;"><path id="kity_path_563" fill="white" stroke="gray" d="M912.5,664A6,6,0,1,1,900.5,664A6,6,0,1,1,912.5,664"></path><path id="kity_path_564" fill="none" stroke="gray" d="M902,664L911,664"></path></g><path id="node_outline66" fill="rgb(238, 243, 246)" stroke="rgb(115, 161, 191)" d="M647.5,640.5h249a3,3,0,0,1,3,3v41a3,3,0,0,1,-3,3h-249a3,3,0,0,1,-3,-3v-41a3,3,0,0,1,3,-3z" stroke-width="1"></path><g id="node_text66" fill="black"><text id="kity_text_303" text-rendering="inherit" font-size="14" dy=".8em" y="643.9000000953674" x="664.5">对于child是字符串或者数字类型的</text><text id="kity_text_304" text-rendering="inherit" font-size="14" dy=".8em" y="664.9000000953674" x="664.5">(reconcileSingleTextNode)</text></g></g><g id="minder_node63"><g id="node_expander62" style="cursor: pointer;"><path id="kity_path_554" fill="white" stroke="gray" d="M616.5,629.5A6,6,0,1,1,604.5,629.5A6,6,0,1,1,616.5,629.5"></path><path id="kity_path_555" fill="none" stroke="gray" d="M606,629.5L615,629.5"></path></g><path id="node_outline63" fill="none" stroke="none" d="M363.5,618.5h236a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-236a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text63" fill="black"><text id="kity_text_296" text-rendering="inherit" font-size="12" dy=".8em" y="621.7000000476837" x="368.5">存在旧的child， 且child的tag是HostText</text></g></g><g id="minder_node64"><g id="node_expander61" display="none" style="cursor: pointer;"><path id="kity_path_551" fill="white" stroke="gray" d="M330.5,629.5A6,6,0,1,1,318.5,629.5A6,6,0,1,1,330.5,629.5"></path><path id="kity_path_552" fill="none" stroke="gray"></path></g><path id="node_outline62" fill="none" stroke="none" d="M25.5,609.5h288a5,5,0,0,1,5,5v30a5,5,0,0,1,-5,5h-288a5,5,0,0,1,-5,-5v-30a5,5,0,0,1,5,-5z"></path><g id="node_text62" fill="black"><text id="kity_text_293" text-rendering="inherit" font-size="12" dy=".8em" y="612.7000000476837" x="30.5">1.对其他所有sibling节点进行标记删除</text><text id="kity_text_294" text-rendering="inherit" font-size="12" dy=".8em" y="630.7000000476837" x="30.5">2. 复用当前节点， 新的文本内容作为pendingProps</text></g></g><g id="minder_node65"><g id="node_expander64" style="cursor: pointer;"><path id="kity_path_560" fill="white" stroke="gray" d="M616.5,699.5A6,6,0,1,1,604.5,699.5A6,6,0,1,1,616.5,699.5"></path><path id="kity_path_561" fill="none" stroke="gray" d="M606,699.5L615,699.5"></path></g><path id="node_outline65" fill="none" stroke="none" d="M306.5,688.5h293a5,5,0,0,1,5,5v12a5,5,0,0,1,-5,5h-293a5,5,0,0,1,-5,-5v-12a5,5,0,0,1,5,-5z"></path><g id="node_text65" fill="black"><text id="kity_text_301" text-rendering="inherit" font-size="12" dy=".8em" y="691.7000000476837" x="311.5">没有旧的child， 或者有旧的child， 但不是HostText</text></g></g><g id="minder_node66"><g id="node_expander63" display="none" style="cursor: pointer;"><path id="kity_path_557" fill="white" stroke="gray" d="M273.5,699.5A6,6,0,1,1,261.5,699.5A6,6,0,1,1,273.5,699.5"></path><path id="kity_path_558" fill="none" stroke="gray"></path></g><path id="node_outline64" fill="none" stroke="none" d="M136.5,679.5h120a5,5,0,0,1,5,5v30a5,5,0,0,1,-5,5h-120a5,5,0,0,1,-5,-5v-30a5,5,0,0,1,5,-5z"></path><g id="node_text64" fill="black"><text id="kity_text_298" text-rendering="inherit" font-size="12" dy=".8em" y="682.7000000476837" x="141.5">1. 删除所有旧的子级</text><text id="kity_text_299" text-rendering="inherit" font-size="12" dy=".8em" y="700.7000000476837" x="141.5">2. 新建fiber对象</text></g></g></g></g></svg>